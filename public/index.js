!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Poci=t():e.Poci=t()}(this,(()=>(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Init:()=>d});class o{constructor(e,t,o){this.type=e,this.name=t,this.content=o}static element="element";static props="properties";static text="textNode"}class r extends o{constructor(e,t,r,a){super(o.element,e,null),this.$$label=a,this.props=r,this.children=t}}class a extends o{constructor(e,t){super(o.props,e,t??"")}}class n extends o{constructor(e){super(o.text,"",e??"")}}function s(e){let t=((new Date).getTime()*(o=1,i=50,Math.floor(Math.random()*(i-o+1))+o)).toString(36);var o,i;const l=((e,t)=>{const o=new Array(e.length);for(let r=0;r<e.length;r++)o[r]=t(e[r]);return o})(Object.keys(e.attributes),(o=>{const r=e.attributes[o];return"data-label"===r.nodeName?(t=r.nodeValue,null):new a(r.nodeName,r.nodeValue)})),d=new r(e.tagName.toLocaleLowerCase(),[],l,t);e.dataset.label=t;for(const t of e.childNodes)t.nodeType===Node.TEXT_NODE?d.children.push(new n(t.nodeValue)):t.nodeType===Node.ELEMENT_NODE&&d.children.push(s(t));return d}function i(e,t){const o=null==t,r=t.$$label===e.dataset.label,a=e.tagName.toLocaleLowerCase()===t.name;if(o||!r||!a)return s(e);const{attributes:n}=e,l=Object.values(n),{props:d}=t;for(const t of l){if(!1===(()=>{for(const e of d)if("data-label"!==t.nodeName&&null!==e&&e.name!==t.nodeName)return!1})())return s(e)}let c=0;for(const o of e.childNodes){o.nodeType===Node.TEXT_NODE||c>=t.children.length||(t.children[c]=i(o,t.children[c]),c++)}return t}class l extends Error{constructor(e,t){super(`[error] : ${e}<${t}>`),this.msg=e,this.type=t}static ParameterInvalid="ParameterInvalid"}class d{#e;#t;#o;constructor(e,t={}){if(this.rootSelector=e,this.rootDOM=document.querySelector(e),null===this.rootDOM)throw new l("root is not found",l.ParameterInvalid);if("object"!=typeof t||null===t||Array.isArray(t))throw new l("data is not valid",l.ParameterInvalid);this.#t=s(this.rootDOM),this.#e=s(this.rootDOM),this.#o=t,this.data=t}set(e,t){this.#o[e]=t,this.data={...this.#o},this.rerender()}rerender(){}track(){this.#t=i(this.rootDOM,this.#t)}#r(e=this.rootDOM){e.removeAttribute("data-label","");for(let t=0;t<e.children.length;t++)this.#r(e.children[t])}pull(){this.#r(),this.rootSelector="",this.rootDOM=null,this.#t={},this.#e={},this.#o={},this.data={}}}return t})()));